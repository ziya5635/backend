{"version":3,"sources":["services/people.js","components/Button.js","components/Listing.js","components/Filter.js","components/PersonForm.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","res","data","post","id","delete","obj","put","Button","people","setPeople","name","setSuccessMessage","onClick","event","preventDefault","window","confirm","peopleService","newArr","filter","person","sync","setTimeout","catch","err","console","log","message","Listing","keyword","toLowerCase","includes","map","key","number","Filter","setKeyword","value","onChange","target","PersonForm","props","newName","candidate","setNewName","newPhone","setPhone","type","some","toUpdate","find","setErrorMessage","concat","Notification","status","className","App","useState","successMessage","errorMessage","useEffect","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ba5124bb.chunk.js","sourcesContent":["import axios from 'axios';\n\n//const baseUrl = 'http://localhost:3001/people';\nconst baseUrl = 'api/people';\n\nconst getAll = () => {\n\tconst req = axios.get(baseUrl);\n\treturn req.then(res => res.data);\n};\n\nconst getOne = (name) => {\n\tconst req = axios.get(`${baseUrl}/?name=${name}`);\n\treturn req.then(res => res.data[0]);\n}\n\nconst create = data => {\n\tconst req = axios.post(baseUrl, data);\n\treturn req.then(res => res.data);\n};\n\nconst remove = id => {\n\tconst req = axios.delete(`${baseUrl}/${id}`);\n\treturn req.then(res => res);\n}\n\nconst update = (id, obj) => {\n\tconst req = axios.put(`${baseUrl}/${id}`, obj);\n\treturn req.then(res => res.data);\n}\n\nexport default {getAll, create, remove, update, getOne};\n","import React from 'react';\nimport peopleService from '../services/people';\n\nconst Button = ({id,people, setPeople, name, setSuccessMessage}) => {\n\tconst handler = (event) => {\n\n\t\tconst sync = (id) => {\n\t\t\tconst newArr = people.filter(person => person.id !== id);\n\t\t\tsetPeople(() => newArr);\n\t\t}\n\n\t\tevent.preventDefault();\n\t\tif (window.confirm(`Delete ${name}?`)) {\n\t\t \tpeopleService.remove(id)\n\t\t\t\t.then(() => {\n\t\t\t\t\tsync(id);\n\t\t\t\t\tsetSuccessMessage(`${name} removed successfuly from server.`);\n\t\t\t\t\tsetTimeout(() => setSuccessMessage(null), 3000);\n\t\t\t\t})\n\t\t\t\t\t.catch(err => console.log(err.message));\n\n\t\t } \n\n\t}\n\n\treturn <button onClick={handler}>delete</button>\n}\n\n\nexport default Button;","import React from 'react';\nimport Button from './Button';\n\nconst Listing = ({ people, keyword, setPeople, setSuccessMessage }) => {\n\n\tconst toShow = people.filter(person => person.name.toLowerCase().includes(keyword.toLowerCase()))\n\treturn(toShow.map(person => <div key={person.name}>{person.name} {person.number} <Button people={people} id={person.id} setPeople={setPeople} name={person.name} setSuccessMessage={setSuccessMessage}/></div>))\n\n}\n\n\nexport default Listing;\n","import React from 'react';\n\n\nconst Filter = ({keyword, setKeyword}) => {\n\tconst keywordHandler = event => {\n    \tsetKeyword(event.target.value);\n \t };\n\treturn <div>filter shown with <input value={keyword} onChange={keywordHandler} /></div>\n}\n\n\n\nexport default Filter;","import React from 'react'\nimport peopleService from '../services/people';\n\nconst PersonForm = (props) => {\n\n  const nameHandler = event => {\n    const candidate = event.target.value;\n    props.setNewName(candidate);\n  };\n  const phoneHandler = event => {\n    props.setPhone(event.target.value);\n  }\n\n  const checkNameExistence = () => props.people.some(person => person.name === props.newName);\n  //const buttonHandler = event => {event.preventDefault();console.log('clicked')};\n  \n\n  const buttonHandler = event => {\n    if (checkNameExistence()) {\n        event.preventDefault();\n        const toUpdate = props.people.find(person => person.name === props.newName);\n        if (window.confirm(props.newName + ' is already added to phonebook, replace the old number with a new one?')) {\n            peopleService.update(toUpdate.id, {...toUpdate, number:props.newPhone})\n              .then(res => {\n                props.setNewName('');\n                props.setPhone('');\n                props.setPeople(() => props.people.map(person => person.id !== res.id ? person : {...toUpdate, number:props.newPhone}));\n                props.setSuccessMessage(`${toUpdate.name} info updated successfully.`);\n                setTimeout(() => props.setSuccessMessage(null), 3000);\n              })\n                .catch(err => {\n                  props.setErrorMessage(`Information of ${toUpdate.name} has already been removed from server.`);\n                  setTimeout(() => props.setErrorMessage(null), 3000);\n                });\n\n        }  \n\n    } else {\n          event.preventDefault();\n          peopleService.create({name: props.newName, number: props.newPhone})\n            .then(res => props.setPeople(() => props.people.concat(res)));\n          props.setNewName('');\n          props.setPhone('');\n          props.setSuccessMessage(`Added ${props.newName} to phonebook.`);\n          setTimeout(() => props.setSuccessMessage(null), 3000);\n    }\n\n  }\n\treturn(\n      <form>\n        <div>\n          name: <input value={props.newName} onChange={nameHandler} />\n        </div>\n        <div>\n          number: <input value={props.newPhone} onChange={phoneHandler} />\n        </div>\n        <div>\n          <button type='submit' onClick={buttonHandler}>add</button>\n        </div>\n      </form>\n\t\t)\n}\n\nexport default PersonForm;","import React from 'react';\n\n\nconst Notification = ({message, status}) => {\n\t\n\tif (message === null) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<div className={status}>\n\t\t\t{message}\n\t\t</div>\n\t\t)\n}\n\nexport default Notification;","import React, { useState, useEffect } from 'react';\nimport Listing from './components/Listing';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport peopleService from './services/people';\nimport Notification from './components/Notification';\nimport './index.css';\n\nconst App = () => {\n\n  const [people, setPeople] = useState([]);\n\n  const [ newName, setNewName ] = useState('');\n\n  const [ newPhone, setPhone ] = useState('');\n\n  const [ keyword, setKeyword ] = useState('');\n\n  const [ successMessage, setSuccessMessage ] = useState(null);\n\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  useEffect(() => {\n    peopleService.getAll()\n      .then(res => setPeople(res))\n      .catch(error => console.log(error.message));\n  }, []);\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={successMessage} status='success'/>\n      <Notification message={errorMessage} status='error' />\n      <Filter keyword={keyword} setKeyword={setKeyword} />\n      <h2>Add a new</h2>\n      <PersonForm newName={newName} newPhone={newPhone} people={people} \n       setPeople={setPeople} setNewName={setNewName} setPhone={setPhone}\n       setSuccessMessage={setSuccessMessage} setErrorMessage={setErrorMessage} />\n      <h2>Numbers</h2>\n      <Listing people={people} keyword={keyword} setPeople={setPeople} setSuccessMessage={setSuccessMessage}/>\n    </div>\n    )\n\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}